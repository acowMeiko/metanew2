2025-12-30 12:38:55,044 - __main__ - INFO - ============================================================
2025-12-30 12:38:55,044 - __main__ - INFO - Step 2: 开始更新Memory
2025-12-30 12:38:55,045 - __main__ - INFO - ============================================================
2025-12-30 12:38:55,046 - __main__ - INFO - MemoryManager 初始化完成
2025-12-30 12:38:55,047 - __main__ - INFO - 阶段1/3: 数据预处理和过滤
2025-12-30 12:38:55,047 - __main__ - INFO - 准备批处理 3 条数据
2025-12-30 12:38:55,047 - __main__ - INFO - 阶段2/3: 批量生成任务描述和原则
2025-12-30 12:38:55,047 - __main__ - INFO - 批量生成任务描述...
2025-12-30 12:38:59,417 - inference.local_inference - INFO - 使用环境变量 CUDA_VISIBLE_DEVICES: 0,1
2025-12-30 12:38:59,418 - inference.local_inference - INFO - ============================================================
2025-12-30 12:38:59,418 - inference.local_inference - INFO - 初始化vLLM本地模型...
2025-12-30 12:38:59,418 - inference.local_inference - INFO - 模型路径: /home/share/hcz/qwen2.5-14b-awq
2025-12-30 12:38:59,418 - inference.local_inference - INFO - ============================================================
2025-12-30 12:40:57,602 - __main__ - INFO - ============================================================
2025-12-30 12:40:57,602 - __main__ - INFO - Step 2: 开始更新Memory
2025-12-30 12:40:57,602 - __main__ - INFO - ============================================================
2025-12-30 12:40:57,607 - __main__ - INFO - MemoryManager 初始化完成
2025-12-30 12:40:57,611 - __main__ - INFO - 阶段1/3: 数据预处理和过滤
2025-12-30 12:40:57,612 - __main__ - INFO - 准备批处理 3 条数据
2025-12-30 12:40:57,612 - __main__ - INFO - 阶段2/3: 批量生成任务描述和原则
2025-12-30 12:40:57,613 - __main__ - INFO - 批量生成任务描述...
2025-12-30 12:41:01,945 - inference.local_inference - INFO - 使用环境变量 CUDA_VISIBLE_DEVICES: 0,1
2025-12-30 12:41:01,945 - inference.local_inference - INFO - ============================================================
2025-12-30 12:41:01,945 - inference.local_inference - INFO - 初始化vLLM本地模型...
2025-12-30 12:41:01,945 - inference.local_inference - INFO - 模型路径: /home/share/hcz/qwen2.5-14b-awq
2025-12-30 12:41:01,945 - inference.local_inference - INFO - ============================================================
2025-12-30 12:42:17,525 - inference.local_inference - INFO - vLLM模型初始化完成
2025-12-30 12:42:25,055 - __main__ - INFO - 批量生成新原则...
2025-12-30 12:42:32,588 - __main__ - INFO - 保存中间生成结果到: /home/metanew2/output/stage2_generated.json
2025-12-30 12:42:32,595 - __main__ - INFO - 阶段3/3: 解析结果并更新Memory
2025-12-30 12:42:32,734 - __main__ - ERROR - 更新Memory时发生错误: 'str' object has no attribute 'substitute'
Traceback (most recent call last):
  File "/home/metanew2/stage_second.py", line 236, in prepare_step2_update_memory_from_dpo
    memory.merge_principles(canonical_key, regenerated_parsed)
  File "/home/metanew2/module/memory_module.py", line 96, in merge_principles
    filtered = self._resolve_conflicts(old_principles, new_principles)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/metanew2/module/memory_module.py", line 105, in _resolve_conflicts
    prompt = PRINCIPLE_MATCH_PROMPT.substitute(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'substitute'
2025-12-30 12:42:32,738 - __main__ - ERROR - 程序执行失败: 'str' object has no attribute 'substitute'
Traceback (most recent call last):
  File "/home/metanew2/stage_second.py", line 260, in <module>
    prepare_step2_update_memory_from_dpo()
  File "/home/metanew2/stage_second.py", line 236, in prepare_step2_update_memory_from_dpo
    memory.merge_principles(canonical_key, regenerated_parsed)
  File "/home/metanew2/module/memory_module.py", line 96, in merge_principles
    filtered = self._resolve_conflicts(old_principles, new_principles)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/metanew2/module/memory_module.py", line 105, in _resolve_conflicts
    prompt = PRINCIPLE_MATCH_PROMPT.substitute(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'substitute'
2025-12-30 12:42:33,604 - inference.local_inference - INFO - 清理vLLM模型...
2025-12-30 12:42:33,632 - inference.local_inference - INFO - CUDA缓存已清理
2025-12-30 12:46:27,859 - __main__ - INFO - ============================================================
2025-12-30 12:46:27,859 - __main__ - INFO - Step 2: 开始更新Memory
2025-12-30 12:46:27,859 - __main__ - INFO - ============================================================
2025-12-30 12:46:27,860 - __main__ - INFO - MemoryManager 初始化完成
2025-12-30 12:46:27,861 - __main__ - INFO - 阶段1/3: 数据预处理和过滤
2025-12-30 12:46:27,861 - __main__ - INFO - 准备批处理 3 条数据
2025-12-30 12:46:27,861 - __main__ - INFO - 阶段2/3: 批量生成任务描述和原则
2025-12-30 12:46:27,861 - __main__ - INFO - 批量生成任务描述...
2025-12-30 12:46:32,263 - inference.local_inference - INFO - 使用环境变量 CUDA_VISIBLE_DEVICES: 0,1
2025-12-30 12:46:32,263 - inference.local_inference - INFO - ============================================================
2025-12-30 12:46:32,263 - inference.local_inference - INFO - 初始化vLLM本地模型...
2025-12-30 12:46:32,263 - inference.local_inference - INFO - 模型路径: /home/share/hcz/qwen2.5-14b-awq
2025-12-30 12:46:32,263 - inference.local_inference - INFO - ============================================================
2025-12-30 12:47:28,833 - inference.local_inference - INFO - vLLM模型初始化完成
2025-12-30 12:47:36,217 - __main__ - INFO - 批量生成新原则...
2025-12-30 12:47:43,893 - __main__ - INFO - 保存中间生成结果到: /home/metanew2/output/stage2_generated.json
2025-12-30 12:47:43,899 - __main__ - INFO - 阶段3/3: 解析结果并更新Memory
2025-12-30 12:48:11,651 - __main__ - WARNING - 第 1 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 12:48:39,499 - __main__ - INFO - Memory更新完成
2025-12-30 12:48:39,499 - __main__ - INFO - 程序执行完成
2025-12-30 12:48:40,658 - inference.local_inference - INFO - 清理vLLM模型...
2025-12-30 12:48:40,685 - inference.local_inference - INFO - CUDA缓存已清理
2025-12-30 12:51:30,854 - __main__ - INFO - ============================================================
2025-12-30 12:51:30,854 - __main__ - INFO - Step 2: 开始更新Memory
2025-12-30 12:51:30,854 - __main__ - INFO - ============================================================
2025-12-30 12:51:30,855 - __main__ - INFO - MemoryManager 初始化完成
2025-12-30 12:51:30,869 - __main__ - INFO - 阶段1/3: 数据预处理和过滤
2025-12-30 12:51:30,888 - __main__ - INFO - 准备批处理 396 条数据
2025-12-30 12:51:30,889 - __main__ - INFO - 阶段2/3: 批量生成任务描述和原则
2025-12-30 12:51:30,889 - __main__ - INFO - 批量生成任务描述...
2025-12-30 12:51:35,227 - inference.local_inference - INFO - 使用环境变量 CUDA_VISIBLE_DEVICES: 0,1
2025-12-30 12:51:35,227 - inference.local_inference - INFO - ============================================================
2025-12-30 12:51:35,227 - inference.local_inference - INFO - 初始化vLLM本地模型...
2025-12-30 12:51:35,227 - inference.local_inference - INFO - 模型路径: /home/share/hcz/qwen2.5-14b-awq
2025-12-30 12:51:35,227 - inference.local_inference - INFO - ============================================================
2025-12-30 12:52:35,749 - inference.local_inference - INFO - vLLM模型初始化完成
2025-12-30 12:53:15,490 - __main__ - INFO - 批量生成新原则...
2025-12-30 12:53:59,304 - __main__ - INFO - 保存中间生成结果到: /home/metanew2/output/stage2_generated.json
2025-12-30 12:53:59,331 - __main__ - INFO - 阶段3/3: 解析结果并更新Memory
2025-12-30 12:55:58,273 - __main__ - WARNING - 第 4 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 13:03:15,637 - __main__ - WARNING - 第 24 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 13:03:20,543 - __main__ - WARNING - 第 25 项无法提取原则JSON
2025-12-30 13:06:41,663 - __main__ - WARNING - 第 34 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 13:07:20,370 - __main__ - WARNING - 第 37 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 13:08:24,985 - __main__ - WARNING - 第 41 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 13:09:13,743 - __main__ - WARNING - 第 43 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 13:10:23,835 - __main__ - WARNING - 第 47 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 13:10:49,579 - __main__ - WARNING - 第 49 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 13:12:00,419 - __main__ - WARNING - 第 52 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 13:14:24,659 - __main__ - WARNING - 第 60 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 13:27:37,037 - __main__ - WARNING - 第 89 项解析原则失败: Expecting ',' delimiter: line 5 column 6 (char 186)
2025-12-30 13:31:34,991 - __main__ - WARNING - 第 97 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 13:32:25,123 - __main__ - ERROR - 更新Memory时发生错误: [Errno 2] No such file or directory: '/home/metanew2/checkpoints/memory_progress.json'
Traceback (most recent call last):
  File "/home/metanew2/stage_second.py", line 241, in prepare_step2_update_memory_from_dpo
    with open(checkpoint_file, 'w') as cf:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/home/metanew2/checkpoints/memory_progress.json'
2025-12-30 13:32:25,124 - __main__ - ERROR - 程序执行失败: [Errno 2] No such file or directory: '/home/metanew2/checkpoints/memory_progress.json'
Traceback (most recent call last):
  File "/home/metanew2/stage_second.py", line 260, in <module>
    prepare_step2_update_memory_from_dpo()
  File "/home/metanew2/stage_second.py", line 241, in prepare_step2_update_memory_from_dpo
    with open(checkpoint_file, 'w') as cf:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/home/metanew2/checkpoints/memory_progress.json'
2025-12-30 13:32:26,394 - inference.local_inference - INFO - 清理vLLM模型...
2025-12-30 13:32:26,421 - inference.local_inference - INFO - CUDA缓存已清理
2025-12-30 14:23:13,133 - __main__ - INFO - ============================================================
2025-12-30 14:23:13,133 - __main__ - INFO - Step 2: 开始更新Memory
2025-12-30 14:23:13,133 - __main__ - INFO - ============================================================
2025-12-30 14:23:13,134 - __main__ - INFO - MemoryManager 初始化完成
2025-12-30 14:23:13,141 - __main__ - INFO - 阶段1/3: 数据预处理和过滤
2025-12-30 14:23:13,151 - __main__ - INFO - 准备批处理 396 条数据
2025-12-30 14:23:13,151 - __main__ - INFO - 阶段2/3: 批量生成任务描述和原则
2025-12-30 14:23:13,151 - __main__ - INFO - 批量生成任务描述...
2025-12-30 14:23:17,572 - inference.local_inference - INFO - 使用环境变量 CUDA_VISIBLE_DEVICES: 0,1
2025-12-30 14:23:17,572 - inference.local_inference - INFO - ============================================================
2025-12-30 14:23:17,572 - inference.local_inference - INFO - 初始化vLLM本地模型...
2025-12-30 14:23:17,572 - inference.local_inference - INFO - 模型路径: /home/share/hcz/qwen2.5-14b-awq
2025-12-30 14:23:17,572 - inference.local_inference - INFO - ============================================================
2025-12-30 14:24:21,399 - inference.local_inference - INFO - vLLM模型初始化完成
2025-12-30 14:25:00,886 - __main__ - INFO - 批量生成新原则...
2025-12-30 14:25:44,150 - __main__ - INFO - 保存中间生成结果到: /home/metanew2/output/stage2_generated.json
2025-12-30 14:25:44,178 - __main__ - INFO - 阶段3/3: 解析结果并更新Memory
2025-12-30 14:32:59,788 - __main__ - WARNING - 第 11 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 14:34:37,111 - __main__ - WARNING - 第 15 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 14:34:37,112 - __main__ - WARNING - 第 16 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 14:39:42,789 - __main__ - WARNING - 第 24 项无法提取原则JSON
2025-12-30 14:40:11,319 - __main__ - WARNING - 第 25 项无法提取原则JSON
2025-12-30 14:43:57,356 - __main__ - WARNING - 第 32 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 14:43:57,357 - __main__ - WARNING - 第 33 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 14:43:57,357 - __main__ - WARNING - 第 34 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 14:47:27,306 - __main__ - WARNING - 第 40 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 14:47:27,306 - __main__ - WARNING - 第 41 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 14:50:06,338 - __main__ - WARNING - 第 46 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 14:51:24,494 - __main__ - WARNING - 第 49 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 14:51:24,494 - __main__ - WARNING - 第 50 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 14:56:48,774 - __main__ - WARNING - 第 60 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 15:16:45,153 - __main__ - WARNING - 第 97 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 15:26:37,283 - __main__ - WARNING - 第 116 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 15:26:37,283 - __main__ - WARNING - 第 117 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 15:29:41,042 - __main__ - WARNING - 第 124 项解析原则失败: Invalid \escape: line 7 column 91 (char 298)
2025-12-30 15:36:41,328 - __main__ - WARNING - 第 141 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 15:37:35,328 - __main__ - WARNING - 第 144 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 15:38:02,586 - __main__ - WARNING - 第 145 项解析原则失败: Expecting ',' delimiter: line 5 column 6 (char 146)
2025-12-30 15:41:21,334 - __main__ - WARNING - 第 152 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 15:41:21,334 - __main__ - WARNING - 第 153 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 15:45:13,958 - __main__ - WARNING - 第 163 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 15:49:27,704 - __main__ - WARNING - 第 172 项无法提取原则JSON
2025-12-30 15:51:13,221 - __main__ - WARNING - 第 177 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 15:51:13,222 - __main__ - WARNING - 第 178 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 15:54:20,740 - __main__ - WARNING - 第 185 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 15:57:12,411 - __main__ - WARNING - 第 190 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 15:57:12,411 - __main__ - WARNING - 第 191 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 15:57:15,664 - __main__ - WARNING - 第 192 项解析原则失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2025-12-30 15:57:15,665 - __main__ - WARNING - 第 193 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 16:03:29,764 - __main__ - WARNING - 第 206 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 16:06:41,361 - __main__ - WARNING - 第 213 项解析任务描述失败: Invalid \escape: line 3 column 45 (char 69)，跳过
2025-12-30 16:08:34,578 - __main__ - WARNING - 第 218 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 16:11:58,402 - __main__ - WARNING - 第 226 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 16:13:45,769 - __main__ - WARNING - 第 232 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 16:18:40,760 - __main__ - WARNING - 第 242 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 16:24:20,561 - __main__ - WARNING - 第 255 项解析原则失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2025-12-30 16:27:09,378 - __main__ - WARNING - 第 261 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 16:27:09,378 - __main__ - WARNING - 第 262 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 16:31:07,404 - __main__ - WARNING - 第 271 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 16:31:41,991 - __main__ - WARNING - 第 273 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 16:32:13,321 - __main__ - WARNING - 第 275 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 16:37:13,882 - __main__ - WARNING - 第 286 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 16:42:24,227 - __main__ - WARNING - 第 297 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 16:55:42,313 - __main__ - WARNING - 第 323 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 16:58:22,491 - __main__ - WARNING - 第 328 项无法提取原则JSON
2025-12-30 17:03:24,495 - __main__ - WARNING - 第 339 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 17:04:51,536 - __main__ - WARNING - 第 342 项无法提取原则JSON
2025-12-30 17:06:40,652 - __main__ - WARNING - 第 346 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 17:07:46,786 - __main__ - WARNING - 第 349 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 17:08:48,484 - __main__ - WARNING - 第 352 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 17:08:48,484 - __main__ - WARNING - 第 353 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 17:10:09,637 - __main__ - WARNING - 第 356 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 17:11:15,106 - __main__ - WARNING - 第 359 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 17:11:22,914 - __main__ - WARNING - 第 360 项解析原则失败: Invalid \escape: line 7 column 94 (char 387)
2025-12-30 17:18:11,488 - __main__ - WARNING - 第 374 项解析任务描述失败: Invalid \escape: line 3 column 44 (char 68)，跳过
2025-12-30 17:25:59,952 - __main__ - WARNING - 第 388 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 17:27:36,353 - __main__ - WARNING - 第 392 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 17:28:20,827 - __main__ - WARNING - 第 395 项解析任务描述失败: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)，跳过
2025-12-30 17:28:20,828 - __main__ - INFO - Memory更新完成
2025-12-30 17:28:20,833 - __main__ - INFO - 程序执行完成
2025-12-30 17:28:22,420 - inference.local_inference - INFO - 清理vLLM模型...
2025-12-30 17:28:22,447 - inference.local_inference - INFO - CUDA缓存已清理
2025-12-30 19:45:29,158 - __main__ - INFO - 加载数据集: data/test/filtered_test.json
2025-12-30 19:45:29,158 - __main__ - ERROR - 加载数据集失败: [Errno 2] No such file or directory: 'data/test/filtered_test.json'
2025-12-30 19:46:53,916 - __main__ - INFO - 加载数据集: data/test/filter_test.json
2025-12-30 19:46:53,916 - __main__ - INFO - 数据集加载成功（JSON格式），共 3 条数据
2025-12-30 19:46:53,916 - __main__ - INFO - 数据字段: ['problem', 'answer', 'solution', 'grading_log', 'difficulty', 'tags']
2025-12-30 19:46:53,916 - __main__ - INFO - ============================================================
2025-12-30 19:46:53,917 - __main__ - INFO - Step 3: 开始推理（批处理模式）
2025-12-30 19:46:53,917 - __main__ - INFO - ============================================================
2025-12-30 19:46:53,919 - __main__ - INFO - MemoryManager 初始化完成
2025-12-30 19:46:53,919 - __main__ - INFO - 批处理大小: 256
2025-12-30 19:46:53,919 - __main__ - INFO - ============================================================
2025-12-30 19:46:53,919 - __main__ - INFO - 步骤 1/3: 批量生成任务描述
2025-12-30 19:46:53,919 - __main__ - INFO - ============================================================
2025-12-30 19:46:53,919 - __main__ - INFO - 有效数据: 3 条
2025-12-30 19:46:53,919 - __main__ - INFO - 将分 1 批处理（每批 256 条）
2025-12-30 19:46:58,367 - inference.local_inference - INFO - 使用环境变量 CUDA_VISIBLE_DEVICES: 0,1,2,3
2025-12-30 19:46:58,367 - inference.local_inference - INFO - ============================================================
2025-12-30 19:46:58,367 - inference.local_inference - INFO - 初始化vLLM本地模型...
2025-12-30 19:46:58,367 - inference.local_inference - INFO - 模型路径: /home/share/hcz/qwen2.5-14b-awq
2025-12-30 19:46:58,367 - inference.local_inference - INFO - ============================================================
2025-12-30 19:49:22,306 - inference.local_inference - INFO - vLLM模型初始化完成
2025-12-30 19:49:23,041 - __main__ - INFO - 任务描述生成完成: 3 条
2025-12-30 19:49:23,048 - __main__ - INFO - 任务描述已保存到: /home/metanew2/output/task_descriptions.json
2025-12-30 19:49:23,048 - __main__ - INFO - ============================================================
2025-12-30 19:49:23,048 - __main__ - INFO - 步骤 2/3: 解析任务描述并检索原则
2025-12-30 19:49:23,048 - __main__ - INFO - ============================================================
2025-12-30 19:49:23,050 - __main__ - WARNING - 第 1 项: JSON解析失败
2025-12-30 19:49:23,050 - __main__ - WARNING -   候选JSON数量: 1
2025-12-30 19:49:23,050 - __main__ - WARNING -   最后一个候选: {
  "taskDescription": {
    "description": "Calculate the time required for three individuals with different eating speeds to consume a given number ...
2025-12-30 19:49:23,050 - __main__ - WARNING - 第 2 项: JSON解析失败
2025-12-30 19:49:23,050 - __main__ - WARNING -   候选JSON数量: 1
2025-12-30 19:49:23,050 - __main__ - WARNING -   最后一个候选: {
  "taskDescription": {
    "description": "Determine the number of ordered pairs (x, y) of positive integers within a given range such that a specif...
2025-12-30 19:49:23,050 - __main__ - WARNING - 第 3 项: JSON解析失败
2025-12-30 19:49:23,051 - __main__ - WARNING -   候选JSON数量: 1
2025-12-30 19:49:23,051 - __main__ - WARNING -   最后一个候选: {
  "taskDescription": {
    "description": "Calculate the sum of the altitudes of a triangle formed by a given line and the coordinate axes."
  }...
2025-12-30 19:49:23,051 - __main__ - INFO - 成功解析任务描述: 0 条
2025-12-30 19:49:23,051 - __main__ - INFO -   - 找到原则: 0 条
2025-12-30 19:49:23,051 - __main__ - INFO -   - 未找到原则（将直接回答）: 0 条
2025-12-30 19:49:23,051 - __main__ - INFO - 解析失败: 3 条
2025-12-30 19:49:23,051 - __main__ - INFO -   - 空响应: 0 条
2025-12-30 19:49:23,052 - __main__ - INFO -   - JSON解析失败: 3 条
2025-12-30 19:49:23,052 - __main__ - WARNING - 
============================================================
2025-12-30 19:49:23,052 - __main__ - WARNING - 警告: 所有任务描述生成都失败了！
2025-12-30 19:49:23,052 - __main__ - WARNING - 可能原因:
2025-12-30 19:49:23,052 - __main__ - WARNING -   1. 模型未正确加载或配置
2025-12-30 19:49:23,052 - __main__ - WARNING -   2. TASK_DESC_PROMPT 模板有问题
2025-12-30 19:49:23,052 - __main__ - WARNING -   3. 模型输出格式不符合预期
2025-12-30 19:49:23,052 - __main__ - WARNING - 建议: 运行 python check_task_generation.py 检查任务描述生成
2025-12-30 19:49:23,052 - __main__ - WARNING - ============================================================

2025-12-30 19:49:23,052 - __main__ - INFO - ============================================================
2025-12-30 19:49:23,052 - __main__ - INFO - 步骤 3/3: 批量生成答案
2025-12-30 19:49:23,052 - __main__ - INFO - ============================================================
2025-12-30 19:49:23,053 - __main__ - INFO - 将分 0 批处理（每批 256 条）
2025-12-30 19:49:23,053 - __main__ - INFO - 答案生成完成: 0 条
2025-12-30 19:49:23,053 - __main__ - INFO - ============================================================
2025-12-30 19:49:23,053 - __main__ - INFO - 组装结果
2025-12-30 19:49:23,053 - __main__ - INFO - ============================================================
2025-12-30 19:49:23,058 - __main__ - INFO - ============================================================
2025-12-30 19:49:23,058 - __main__ - INFO - 开始计算准确率
2025-12-30 19:49:23,058 - __main__ - INFO - ============================================================
2025-12-30 19:49:23,067 - __main__ - INFO - 
============================================================
2025-12-30 19:49:23,067 - __main__ - INFO - 准确率报告
2025-12-30 19:49:23,067 - __main__ - INFO - ============================================================
2025-12-30 19:49:23,067 - __main__ - INFO - 无有效结果，无法计算准确率
2025-12-30 19:49:23,067 - __main__ - INFO - 
结果已保存:
2025-12-30 19:49:23,067 - __main__ - INFO -   - 推理结果: /home/metanew2/output/local_inference_round2.json
2025-12-30 19:49:23,067 - __main__ - INFO -   - 带准确率标注: /home/metanew2/output/local_inference_with_accuracy.json
2025-12-30 19:49:23,067 - __main__ - INFO -   - 准确率统计: /home/metanew2/output/accuracy_stats.json
2025-12-30 19:49:23,067 - __main__ - INFO - 
推理完成!
2025-12-30 19:49:23,067 - __main__ - INFO -   - 成功推理: 0 项
2025-12-30 19:49:23,068 - __main__ - INFO -   - 未找到原则: 3 项
2025-12-30 19:49:23,068 - __main__ - INFO -   - 总数据量: 3 项
2025-12-30 19:49:25,033 - inference.local_inference - INFO - 清理vLLM模型...
2025-12-30 19:49:25,066 - inference.local_inference - INFO - CUDA缓存已清理
